---
- hosts: all
  vars:
  tasks:
    - name: Copy AAP-bundle to "{{ inventory_hostname }}" from "{{ aap_serv }}"
      ansible.builtin.synchronize:
        src: /root/software/AAP-bundle-2.4-6.2-x86_64.tar.gz
        dest: /root/software/AAP-bundle-2.4-6.2-x86_64.tar.gz
      delegate_to: "{{ aap_serv }}"
    - name: create software directory 
      ansible.builtin.shell:
        cmd: mkdir -p /root/software/aap-bundle-2.4-6.2
      register: shell
    - debug: var=shell.stdout_lines
    - name: move Binaries
      ansible.builtin.shell:
        cmd: mv /root/software/AAP-bundle-2.4-6.2-x86_64.tar.gz /root/software/aap-bundle-2.4-6.2
      register: shell
    - debug: var=shell.stdout_lines
    - name: Untar Binaries
      ansible.builtin.shell:
        cmd: tar -xzvf AAP-bundle-2.4-6.2-x86_64.tar.gz
        chdir: /root/software/aap-bundle-2.4-6.2
      register: shell
    - debug: var=shell.stdout_lines
    - name: Copy inventory to "{{ inventory_hostname }}" from "{{ aap_serv }}"
      ansible.builtin.synchronize:
        src: /root/software/eda-inventory
        dest: /root/software/eda-inventory
      delegate_to: "{{ aap_serv }}"
#    - name: Install EDA 
#      ansible.builtin.shell:
#        cmd: setup.sh
#        chdir: /root/software/aap-bundle-2.4-6.2
#      register: shell
#    - debug: var=shell.stdout_lines