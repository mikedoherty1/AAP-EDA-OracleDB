---
- hosts: all
  vars:
    ansible_python_interpreter: auto_silent
  tasks:
    - name: Untar Oracle Binaries
      ansible.builtin.shell:
        cmd: tar -xzvf ora19c.tar.gz
        chdir: /oracle
      register: shell
    - debug: var=shell.stdout_lines
    - name: Set correct hostname in listener.ora
      ansible.builtin.replace:
        path: /oracle/app/product/19c/network/admin
        regexp: change_hostname
        replace: $(hostname)
    - name: Set correct hostname in tnsnames.ora
      ansible.builtin.replace:
        path: /oracle/app/product/19c/network/admin
        regexp: change_hostname
        replace: $(hostname)
